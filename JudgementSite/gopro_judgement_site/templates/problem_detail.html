{% extends "layout.html" %}

{% block title %}{{ problem['title'] }}{% endblock %}

{% block content %}
<main>
    <section class="problem-detail">
        <h1>{{ problem['title'] }}</h1>
        <p class="meta-info">작성자: {{ problem['author'] }} | 난이도: Lv. {{ problem['difficulty'] }} | 정답률: {{ problem['correct_rate'] }}%</p>
        <hr>
        <div class="description">
            {{ problem['description'] | nl2br }}
        </div>
        {% if session['logged_in'] %}
            <a href="{{ url_for('problem_solve', id=problem['id']) }}" class="solve-button">문제 풀기</a>
        {% else %}
            <p class="login-prompt">문제를 풀기 위해서는 <a href="{{ url_for('login') }}" class="login-link">로그인</a>이 필요합니다.</p>
        {% endif %}
    </section>
</main>

<style>
    body {
        font-family: 'Noto Sans KR', sans-serif;
        background-color: #f1f1f1;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }
    
    main {
        display: flex;
        justify-content: center;
        padding: 20px;
    }

    .problem-detail {
        background-color: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        width: 100%;
    }

    h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        color: #333;
    }

    .meta-info {
        font-size: 0.9em;
        color: #888;
        margin-bottom: 20px;
    }

    hr {
        border: none;
        height: 1px;
        background-color: #ddd;
        margin: 20px 0;
    }

    .description {
        font-size: 1.1em;
        line-height: 1.6;
        color: #555;
    }

    .solve-button {
        display: inline-block;
        background-color: #007BFF;
        color: #fff;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        transition: background-color 0.3s ease;
    }

    .solve-button:hover {
        background-color: #0056b3;
    }

    .login-prompt {
        margin-top: 20px;
        font-size: 1em;
    }

    .login-link {
        color: #007BFF;
        text-decoration: none;
        font-weight: bold;
    }

    .login-link:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}
